this.animejsPlugins=this.animejsPlugins||{},this.animejsPlugins.imagesPlayer=function(e){"use strict";return e.imagesPlayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.containerSelector,t=e.path,a=e.from,i=e.to,o=e.sprite,r=void 0!==o&&o,c=e.loop,l=void 0===c||c,u=e.autoplay,d=void 0===u||u,s=e.duration,m=void 0===s?1e3:s,g=e.endDelay,h=void 0===g?500:g,v=e.direction,p=void 0===v?"normal":v,f=e.delay,w=void 0===f?0:f,E=e.easing,y=void 0===E?"linear":E,I=e.onImagesLoaded,P=void 0===I?null:I,j=e.onBegin,L=void 0===j?null:j,x=e.onUpdate,b=void 0===x?null:x,O=e.onComplete,B=void 0===O?null:O,C={containerSelector:n,wrapperEl:"",ctx:"",canvasEl:"",images:[],currentImage:0,allLength:"",lastImage:"",animationObject:""},H={init:function(){H.loadImages()},loadImages:function(){var e;if(r){var n=document.createElement("img");n.src=t,e=[new Promise((function(e){return n.addEventListener("load",(function t(){n.removeEventListener("load",t),e(n)}))})).then((function(e){return function(e,n,t){"function"!=typeof window.createImageBitmap&&(window.createImageBitmap=function(e,n,t,a,i){return Promise.resolve().then((function(){var o=document.createElement("canvas");return o.width=a||e.naturalWidth||e.videoWidth||e.width,o.height=i||e.naturalHeight||e.videoHeight||e.height,o.getContext("2d").drawImage(e,n||0,t||0,o.width,o.height,0,0,o.width,o.height),o})).catch((function(e){return console.log(e)}))});for(var a=n-e+1,i=t.naturalWidth,o=t.naturalHeight/a,r=[],c=0;c<a;c++)r.push([0,c*o,i,o]);return Promise.all(r.map((function(e){return createImageBitmap.apply(window,[t].concat(e))})))}(a,i,e)}))]}else{e=function(e,n,t){for(var a=t.indexOf("{num}"),i=[],o=e;o<=n;o++)i.push((r=o,[t.slice(0,a),r,t.slice(a+5)].join("")));var r;return{path:i}}(a,i,t).path.map((function(e){var n=document.createElement("img");return n.src=e,new Promise((function(e){return n.addEventListener("load",(function t(){n.removeEventListener("load",t),e(n)}))}))}))}Promise.all(e).then((function(e){C.images=r?e[0]:e,C.allLength=i-a,C.lastImage=i})).catch((function(e){return console.log("images not loaded")})).then((function(){H.render(),P&&P(C.animationObject)})).catch((function(e){return console.log(e)}))},render:function(){C.wrapperEl=document.querySelector(C.containerSelector),C.canvasEl=document.createElement("canvas"),C.canvasEl.className="ap-imagesplayer",C.wrapperEl.appendChild(C.canvasEl),C.ctx=C.canvasEl.getContext("2d"),C.canvasEl.width=C.images[0].naturalWidth||C.images[0].width,C.canvasEl.height=C.images[0].naturalHeight||C.images[0].height,C.animationObject=anime({targets:C,currentImage:C.allLength,duration:m,loop:l,autoplay:d,round:1,endDelay:h,delay:w,direction:p,easing:y,begin:function(e){L&&L(e)},update:function(e){C.ctx.clearRect(0,0,C.canvasEl.width,C.canvasEl.height),C.ctx.drawImage(C.images[C.currentImage],0,0),b&&b(e)},complete:function(e){B&&B(e)}})}},S={play:function(){return C.animationObject.play()}};return H.init(),{actions:S}},e}({});
